{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kaushikieee/Downloads/code/components/admin/sidebar.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport {\n  LayoutDashboard,\n  FileText,\n  MapPin,\n  Share2,\n  Store,\n  Settings,\n  X,\n} from 'lucide-react';\n\ninterface AdminSidebarProps {\n  open: boolean;\n  onClose: () => void;\n}\n\nconst menuItems = [\n  { href: '/admin/dashboard', label: 'Dashboard', icon: LayoutDashboard },\n  { href: '/admin/evidence', label: 'Evidence Management', icon: FileText },\n  { href: '/admin/zones', label: 'Zone Editor', icon: MapPin },\n  { href: '/admin/forwarding', label: 'Authority Forwarding', icon: Share2 },\n  { href: '/admin/marketplace', label: 'Service Marketplace', icon: Store },\n  { href: '/admin/settings', label: 'Settings', icon: Settings },\n];\n\nexport default function AdminSidebar({ open, onClose }: AdminSidebarProps) {\n  const pathname = usePathname();\n\n  return (\n    <>\n      {/* Overlay for mobile */}\n      {open && (\n        <div\n          className=\"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden\"\n          onClick={onClose}\n        />\n      )}\n\n      {/* Sidebar */}\n      <div\n        className={`fixed lg:relative w-64 h-screen bg-gray-900 text-white transition-all z-40 ${\n          open ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'\n        }`}\n      >\n        {/* Logo */}\n        <div className=\"p-6 border-b border-gray-800\">\n          <div className=\"flex items-center justify-between\">\n            <Link href=\"/admin/dashboard\" className=\"text-2xl font-bold\">\n              PEEP\n            </Link>\n            <button onClick={onClose} className=\"lg:hidden p-1 hover:bg-gray-800 rounded\">\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n          <p className=\"text-xs text-gray-400 mt-2\">Admin Portal</p>\n        </div>\n\n        {/* Navigation Menu */}\n        <nav className=\"p-4 space-y-2\">\n          {menuItems.map((item) => {\n            const Icon = item.icon;\n            const isActive = pathname.startsWith(item.href);\n\n            return (\n              <Link\n                key={item.href}\n                href={item.href}\n                onClick={onClose}\n                className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${\n                  isActive\n                    ? 'bg-blue-600 text-white'\n                    : 'text-gray-400 hover:bg-gray-800 hover:text-white'\n                }`}\n              >\n                <Icon className=\"w-5 h-5\" />\n                <span className=\"text-sm font-medium\">{item.label}</span>\n              </Link>\n            );\n          })}\n        </nav>\n\n        {/* Footer */}\n        <div className=\"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-800\">\n          <p className=\"text-xs text-gray-500 text-center\">\n            PEEP Admin v1.0\n          </p>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;;;;;AAmBA,MAAM,YAAY;IAChB;QAAE,MAAM;QAAoB,OAAO;QAAa,MAAM,wVAAe;IAAC;IACtE;QAAE,MAAM;QAAmB,OAAO;QAAuB,MAAM,mUAAQ;IAAC;IACxE;QAAE,MAAM;QAAgB,OAAO;QAAe,MAAM,6TAAM;IAAC;IAC3D;QAAE,MAAM;QAAqB,OAAO;QAAwB,MAAM,6TAAM;IAAC;IACzE;QAAE,MAAM;QAAsB,OAAO;QAAuB,MAAM,sTAAK;IAAC;IACxE;QAAE,MAAM;QAAmB,OAAO;QAAY,MAAM,+TAAQ;IAAC;CAC9D;AAEc,SAAS,aAAa,EAAE,IAAI,EAAE,OAAO,EAAqB;IACvE,MAAM,WAAW,IAAA,qSAAW;IAE5B,qBACE;;YAEG,sBACC,kYAAC;gBACC,WAAU;gBACV,SAAS;;;;;;0BAKb,kYAAC;gBACC,WAAW,CAAC,2EAA2E,EACrF,OAAO,kBAAkB,sCACzB;;kCAGF,kYAAC;wBAAI,WAAU;;0CACb,kYAAC;gCAAI,WAAU;;kDACb,kYAAC,2TAAI;wCAAC,MAAK;wCAAmB,WAAU;kDAAqB;;;;;;kDAG7D,kYAAC;wCAAO,SAAS;wCAAS,WAAU;kDAClC,cAAA,kYAAC,0SAAC;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAGjB,kYAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;kCAI5C,kYAAC;wBAAI,WAAU;kCACZ,UAAU,GAAG,CAAC,CAAC;4BACd,MAAM,OAAO,KAAK,IAAI;4BACtB,MAAM,WAAW,SAAS,UAAU,CAAC,KAAK,IAAI;4BAE9C,qBACE,kYAAC,2TAAI;gCAEH,MAAM,KAAK,IAAI;gCACf,SAAS;gCACT,WAAW,CAAC,4DAA4D,EACtE,WACI,2BACA,oDACJ;;kDAEF,kYAAC;wCAAK,WAAU;;;;;;kDAChB,kYAAC;wCAAK,WAAU;kDAAuB,KAAK,KAAK;;;;;;;+BAV5C,KAAK,IAAI;;;;;wBAapB;;;;;;kCAIF,kYAAC;wBAAI,WAAU;kCACb,cAAA,kYAAC;4BAAE,WAAU;sCAAoC;;;;;;;;;;;;;;;;;;;AAO3D"}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///Users/kaushikieee/Downloads/code/lib/sheetClientAPI.ts"],"sourcesContent":["/**\n * Client-side helper for securely calling the sheet API\n * All updates go through the server, ensuring security\n */\n\nexport interface ProviderData {\n  id: number;\n  name: string;\n  service: string;\n  rating: number;\n  reviews: number;\n  estimate: string;\n  specialties: string[];\n  responseTime?: string;\n  availability?: string;\n  email?: string;\n  phone?: string;\n  location?: string;\n  experience?: number;\n  certification?: string;\n  insurance?: boolean;\n  portfolio?: string;\n  successRate?: number;\n}\n\nexport interface ProblemData {\n  id: string;\n  title: string;\n  location: string;\n  latitude?: number;\n  longitude?: number;\n  severity: 'Low' | 'Medium' | 'High' | 'Critical';\n  category: string;\n  description?: string;\n  reportedBy?: string;\n  reportedDate?: string;\n  status?: 'Open' | 'In Progress' | 'Resolved' | 'Pending';\n  priority?: 'Low' | 'Medium' | 'High' | 'Critical';\n  estimatedCost?: string;\n  deadline?: string;\n  images?: string[];\n  tags?: string[];\n}\n\n/**\n * Convert provider object to row array for Google Sheets\n */\nexport function providerToRow(provider: ProviderData): any[] {\n  return [\n    provider.id,\n    provider.name,\n    provider.service,\n    provider.rating,\n    provider.reviews,\n    provider.estimate,\n    provider.specialties.join(','),\n    provider.responseTime || '',\n    provider.availability || '',\n    provider.email || '',\n    provider.phone || '',\n    provider.location || '',\n    provider.experience || '',\n    provider.certification || '',\n    provider.insurance ? 'Yes' : 'No',\n    provider.portfolio || '',\n    provider.successRate || '',\n  ];\n}\n\n/**\n * Convert problem object to row array for Google Sheets\n */\nexport function problemToRow(problem: ProblemData): any[] {\n  return [\n    problem.id,\n    problem.title,\n    problem.location,\n    problem.latitude || '',\n    problem.longitude || '',\n    problem.severity,\n    problem.category,\n    problem.description || '',\n    problem.reportedBy || '',\n    problem.reportedDate || '',\n    problem.status || 'Open',\n    problem.priority || 'Medium',\n    problem.estimatedCost || '',\n    problem.deadline || '',\n    problem.images?.join('|') || '',\n    problem.tags?.join(',') || '',\n  ];\n}\n\n/**\n * Update a provider in Google Sheets\n */\nexport async function updateProvider(\n  provider: ProviderData,\n  rowIndex: number\n): Promise<void> {\n  const response = await fetch('/api/admin/sheets', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${process.env.NEXT_PUBLIC_API_TOKEN || ''}`,\n    },\n    body: JSON.stringify({\n      action: 'update',\n      sheetName: 'providers',\n      rowIndex,\n      values: providerToRow(provider),\n    }),\n  });\n\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.error || 'Failed to update provider');\n  }\n}\n\n/**\n * Add a new provider to Google Sheets\n */\nexport async function createProvider(provider: ProviderData): Promise<void> {\n  const response = await fetch('/api/admin/sheets', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${process.env.NEXT_PUBLIC_API_TOKEN || ''}`,\n    },\n    body: JSON.stringify({\n      action: 'append',\n      sheetName: 'providers',\n      values: providerToRow(provider),\n    }),\n  });\n\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.error || 'Failed to create provider');\n  }\n}\n\n/**\n * Delete a provider from Google Sheets\n */\nexport async function deleteProvider(rowIndex: number): Promise<void> {\n  const response = await fetch('/api/admin/sheets', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${process.env.NEXT_PUBLIC_API_TOKEN || ''}`,\n    },\n    body: JSON.stringify({\n      action: 'delete',\n      sheetName: 'providers',\n      rowIndex,\n    }),\n  });\n\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.error || 'Failed to delete provider');\n  }\n}\n\n/**\n * Update a problem in Google Sheets\n */\nexport async function updateProblem(\n  problem: ProblemData,\n  rowIndex: number\n): Promise<void> {\n  const response = await fetch('/api/admin/sheets', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${process.env.NEXT_PUBLIC_API_TOKEN || ''}`,\n    },\n    body: JSON.stringify({\n      action: 'update',\n      sheetName: 'problems',\n      rowIndex,\n      values: problemToRow(problem),\n    }),\n  });\n\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.error || 'Failed to update problem');\n  }\n}\n\n/**\n * Add a new problem to Google Sheets\n */\nexport async function createProblem(problem: ProblemData): Promise<void> {\n  const response = await fetch('/api/admin/sheets', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${process.env.NEXT_PUBLIC_API_TOKEN || ''}`,\n    },\n    body: JSON.stringify({\n      action: 'append',\n      sheetName: 'problems',\n      values: problemToRow(problem),\n    }),\n  });\n\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.error || 'Failed to create problem');\n  }\n}\n\n/**\n * Delete a problem from Google Sheets\n */\nexport async function deleteProblem(rowIndex: number): Promise<void> {\n  const response = await fetch('/api/admin/sheets', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${process.env.NEXT_PUBLIC_API_TOKEN || ''}`,\n    },\n    body: JSON.stringify({\n      action: 'delete',\n      sheetName: 'problems',\n      rowIndex,\n    }),\n  });\n\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.error || 'Failed to delete problem');\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 361, "column": 0}, "map": {"version":3,"sources":["file:///Users/kaushikieee/Downloads/code/components/admin/provider-editor.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { X, Plus, Trash2 } from 'lucide-react';\nimport { ProviderData, updateProvider, createProvider, deleteProvider } from '@/lib/sheetClientAPI';\n\ninterface ProviderEditorProps {\n  provider?: ProviderData & { rowIndex?: number };\n  onClose: () => void;\n  onSave: () => void;\n  isNew?: boolean;\n}\n\nexport default function ProviderEditor({ provider, onClose, onSave, isNew }: ProviderEditorProps) {\n  const [formData, setFormData] = useState<ProviderData>(\n    provider || {\n      id: Math.random(),\n      name: '',\n      service: '',\n      rating: 4.5,\n      reviews: 0,\n      estimate: 'â‚¹0',\n      specialties: [],\n      responseTime: '',\n      availability: '',\n      email: '',\n      phone: '',\n      location: '',\n      experience: 0,\n      certification: '',\n      insurance: false,\n      portfolio: '',\n      successRate: 0,\n    }\n  );\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [newSpecialty, setNewSpecialty] = useState('');\n\n  const handleInputChange = (field: string, value: any) => {\n    setFormData((prev) => ({\n      ...prev,\n      [field]: value,\n    }));\n  };\n\n  const handleAddSpecialty = () => {\n    if (newSpecialty.trim()) {\n      setFormData((prev) => ({\n        ...prev,\n        specialties: [...prev.specialties, newSpecialty.trim()],\n      }));\n      setNewSpecialty('');\n    }\n  };\n\n  const handleRemoveSpecialty = (index: number) => {\n    setFormData((prev) => ({\n      ...prev,\n      specialties: prev.specialties.filter((_, i) => i !== index),\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      if (isNew) {\n        await createProvider(formData);\n      } else {\n        const rowIndex = (provider as any)?.rowIndex || 2; // Default to row 2 if not provided\n        await updateProvider(formData, rowIndex);\n      }\n      onSave();\n      onClose();\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to save provider');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!confirm('Are you sure you want to delete this provider?')) return;\n    \n    setLoading(true);\n    setError('');\n\n    try {\n      const rowIndex = (provider as any)?.rowIndex || 2;\n      await deleteProvider(rowIndex);\n      onSave();\n      onClose();\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to delete provider');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg shadow-lg max-w-2xl w-full max-h-96 overflow-y-auto\">\n        <div className=\"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">\n            {isNew ? 'Add New Provider' : 'Edit Provider'}\n          </h2>\n          <button onClick={onClose} className=\"text-gray-500 hover:text-gray-700\">\n            <X size={24} />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          {error && (\n            <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm\">\n              {error}\n            </div>\n          )}\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Name *\n              </label>\n              <input\n                type=\"text\"\n                value={formData.name}\n                onChange={(e) => handleInputChange('name', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Service *\n              </label>\n              <input\n                type=\"text\"\n                value={formData.service}\n                onChange={(e) => handleInputChange('service', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Rating\n              </label>\n              <input\n                type=\"number\"\n                step=\"0.1\"\n                min=\"0\"\n                max=\"5\"\n                value={formData.rating}\n                onChange={(e) => handleInputChange('rating', parseFloat(e.target.value))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Reviews\n              </label>\n              <input\n                type=\"number\"\n                value={formData.reviews}\n                onChange={(e) => handleInputChange('reviews', parseInt(e.target.value))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Estimate\n              </label>\n              <input\n                type=\"text\"\n                value={formData.estimate}\n                onChange={(e) => handleInputChange('estimate', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Email\n              </label>\n              <input\n                type=\"email\"\n                value={formData.email}\n                onChange={(e) => handleInputChange('email', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Phone\n              </label>\n              <input\n                type=\"tel\"\n                value={formData.phone}\n                onChange={(e) => handleInputChange('phone', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Location\n              </label>\n              <input\n                type=\"text\"\n                value={formData.location}\n                onChange={(e) => handleInputChange('location', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Experience (years)\n              </label>\n              <input\n                type=\"number\"\n                value={formData.experience}\n                onChange={(e) => handleInputChange('experience', parseInt(e.target.value))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Certification\n              </label>\n              <input\n                type=\"text\"\n                value={formData.certification}\n                onChange={(e) => handleInputChange('certification', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Success Rate (%)\n              </label>\n              <input\n                type=\"number\"\n                step=\"0.1\"\n                min=\"0\"\n                max=\"100\"\n                value={formData.successRate}\n                onChange={(e) => handleInputChange('successRate', parseFloat(e.target.value))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Response Time\n              </label>\n              <input\n                type=\"text\"\n                value={formData.responseTime}\n                onChange={(e) => handleInputChange('responseTime', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Availability\n              </label>\n              <input\n                type=\"text\"\n                value={formData.availability}\n                onChange={(e) => handleInputChange('availability', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Portfolio\n            </label>\n            <input\n              type=\"url\"\n              value={formData.portfolio}\n              onChange={(e) => handleInputChange('portfolio', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Insurance\n            </label>\n            <input\n              type=\"checkbox\"\n              checked={formData.insurance}\n              onChange={(e) => handleInputChange('insurance', e.target.checked)}\n              className=\"w-4 h-4\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-3\">\n              Specialties\n            </label>\n            <div className=\"flex gap-2 mb-3\">\n              <input\n                type=\"text\"\n                value={newSpecialty}\n                onChange={(e) => setNewSpecialty(e.target.value)}\n                onKeyPress={(e) => e.key === 'Enter' && handleAddSpecialty()}\n                placeholder=\"Add specialty...\"\n                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n              <button\n                type=\"button\"\n                onClick={handleAddSpecialty}\n                className=\"px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\"\n              >\n                <Plus size={20} />\n              </button>\n            </div>\n            <div className=\"flex flex-wrap gap-2\">\n              {formData.specialties.map((specialty, index) => (\n                <span\n                  key={index}\n                  className=\"px-3 py-1 bg-gray-200 text-gray-800 rounded-full text-sm flex items-center gap-2\"\n                >\n                  {specialty}\n                  <button\n                    type=\"button\"\n                    onClick={() => handleRemoveSpecialty(index)}\n                    className=\"text-red-600 hover:text-red-800\"\n                  >\n                    <X size={16} />\n                  </button>\n                </span>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-between gap-2 -mx-6 -mb-6\">\n            <div>\n              {!isNew && (\n                <button\n                  type=\"button\"\n                  onClick={handleDelete}\n                  disabled={loading}\n                  className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 flex items-center gap-2\"\n                >\n                  <Trash2 size={18} />\n                  Delete\n                </button>\n              )}\n            </div>\n            <div className=\"flex gap-2\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50\"\n              >\n                {loading ? 'Saving...' : 'Save'}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1085, "column": 0}, "map": {"version":3,"sources":["file:///Users/kaushikieee/Downloads/code/components/admin/problem-editor.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { X, Plus, Trash2 } from 'lucide-react';\nimport { ProblemData, updateProblem, createProblem, deleteProblem } from '@/lib/sheetClientAPI';\n\ninterface ProblemEditorProps {\n  problem?: ProblemData & { rowIndex?: number };\n  onClose: () => void;\n  onSave: () => void;\n  isNew?: boolean;\n}\n\nexport default function ProblemEditor({ problem, onClose, onSave, isNew }: ProblemEditorProps) {\n  const [formData, setFormData] = useState<ProblemData>(\n    problem || {\n      id: `P${Date.now()}`,\n      title: '',\n      location: '',\n      latitude: undefined,\n      longitude: undefined,\n      severity: 'Medium',\n      category: '',\n      description: '',\n      reportedBy: '',\n      reportedDate: new Date().toISOString().split('T')[0],\n      status: 'Open',\n      priority: 'Medium',\n      estimatedCost: '',\n      deadline: '',\n      images: [],\n      tags: [],\n    }\n  );\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [newTag, setNewTag] = useState('');\n  const [newImage, setNewImage] = useState('');\n\n  const handleInputChange = (field: string, value: any) => {\n    setFormData((prev) => ({\n      ...prev,\n      [field]: value,\n    }));\n  };\n\n  const handleAddTag = () => {\n    if (newTag.trim()) {\n      setFormData((prev) => ({\n        ...prev,\n        tags: [...(prev.tags || []), newTag.trim()],\n      }));\n      setNewTag('');\n    }\n  };\n\n  const handleRemoveTag = (index: number) => {\n    setFormData((prev) => ({\n      ...prev,\n      tags: prev.tags?.filter((_, i) => i !== index) || [],\n    }));\n  };\n\n  const handleAddImage = () => {\n    if (newImage.trim()) {\n      setFormData((prev) => ({\n        ...prev,\n        images: [...(prev.images || []), newImage.trim()],\n      }));\n      setNewImage('');\n    }\n  };\n\n  const handleRemoveImage = (index: number) => {\n    setFormData((prev) => ({\n      ...prev,\n      images: prev.images?.filter((_, i) => i !== index) || [],\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      if (isNew) {\n        await createProblem(formData);\n      } else {\n        const rowIndex = (problem as any)?.rowIndex || 2;\n        await updateProblem(formData, rowIndex);\n      }\n      onSave();\n      onClose();\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to save problem');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!confirm('Are you sure you want to delete this problem?')) return;\n    \n    setLoading(true);\n    setError('');\n\n    try {\n      const rowIndex = (problem as any)?.rowIndex || 2;\n      await deleteProblem(rowIndex);\n      onSave();\n      onClose();\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to delete problem');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg shadow-lg max-w-2xl w-full max-h-96 overflow-y-auto\">\n        <div className=\"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">\n            {isNew ? 'Add New Problem' : 'Edit Problem'}\n          </h2>\n          <button onClick={onClose} className=\"text-gray-500 hover:text-gray-700\">\n            <X size={24} />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          {error && (\n            <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm\">\n              {error}\n            </div>\n          )}\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Title *\n              </label>\n              <input\n                type=\"text\"\n                value={formData.title}\n                onChange={(e) => handleInputChange('title', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Location *\n              </label>\n              <input\n                type=\"text\"\n                value={formData.location}\n                onChange={(e) => handleInputChange('location', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Category *\n              </label>\n              <input\n                type=\"text\"\n                value={formData.category}\n                onChange={(e) => handleInputChange('category', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Severity *\n              </label>\n              <select\n                value={formData.severity}\n                onChange={(e) => handleInputChange('severity', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"Low\">Low</option>\n                <option value=\"Medium\">Medium</option>\n                <option value=\"High\">High</option>\n                <option value=\"Critical\">Critical</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Priority\n              </label>\n              <select\n                value={formData.priority}\n                onChange={(e) => handleInputChange('priority', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"Low\">Low</option>\n                <option value=\"Medium\">Medium</option>\n                <option value=\"High\">High</option>\n                <option value=\"Critical\">Critical</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Status\n              </label>\n              <select\n                value={formData.status}\n                onChange={(e) => handleInputChange('status', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"Open\">Open</option>\n                <option value=\"In Progress\">In Progress</option>\n                <option value=\"Resolved\">Resolved</option>\n                <option value=\"Pending\">Pending</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Reported By\n              </label>\n              <input\n                type=\"text\"\n                value={formData.reportedBy}\n                onChange={(e) => handleInputChange('reportedBy', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Reported Date\n              </label>\n              <input\n                type=\"date\"\n                value={formData.reportedDate}\n                onChange={(e) => handleInputChange('reportedDate', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Latitude\n              </label>\n              <input\n                type=\"number\"\n                step=\"0.0001\"\n                value={formData.latitude || ''}\n                onChange={(e) => handleInputChange('latitude', e.target.value ? parseFloat(e.target.value) : undefined)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Longitude\n              </label>\n              <input\n                type=\"number\"\n                step=\"0.0001\"\n                value={formData.longitude || ''}\n                onChange={(e) => handleInputChange('longitude', e.target.value ? parseFloat(e.target.value) : undefined)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Estimated Cost\n              </label>\n              <input\n                type=\"text\"\n                value={formData.estimatedCost}\n                onChange={(e) => handleInputChange('estimatedCost', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Deadline\n              </label>\n              <input\n                type=\"date\"\n                value={formData.deadline}\n                onChange={(e) => handleInputChange('deadline', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Description\n            </label>\n            <textarea\n              value={formData.description}\n              onChange={(e) => handleInputChange('description', e.target.value)}\n              rows={3}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-3\">\n              Tags\n            </label>\n            <div className=\"flex gap-2 mb-3\">\n              <input\n                type=\"text\"\n                value={newTag}\n                onChange={(e) => setNewTag(e.target.value)}\n                onKeyPress={(e) => e.key === 'Enter' && handleAddTag()}\n                placeholder=\"Add tag...\"\n                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n              <button\n                type=\"button\"\n                onClick={handleAddTag}\n                className=\"px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\"\n              >\n                <Plus size={20} />\n              </button>\n            </div>\n            <div className=\"flex flex-wrap gap-2\">\n              {formData.tags?.map((tag, index) => (\n                <span\n                  key={index}\n                  className=\"px-3 py-1 bg-gray-200 text-gray-800 rounded-full text-sm flex items-center gap-2\"\n                >\n                  {tag}\n                  <button\n                    type=\"button\"\n                    onClick={() => handleRemoveTag(index)}\n                    className=\"text-red-600 hover:text-red-800\"\n                  >\n                    <X size={16} />\n                  </button>\n                </span>\n              ))}\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-3\">\n              Image URLs\n            </label>\n            <div className=\"flex gap-2 mb-3\">\n              <input\n                type=\"url\"\n                value={newImage}\n                onChange={(e) => setNewImage(e.target.value)}\n                onKeyPress={(e) => e.key === 'Enter' && handleAddImage()}\n                placeholder=\"Add image URL...\"\n                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n              <button\n                type=\"button\"\n                onClick={handleAddImage}\n                className=\"px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\"\n              >\n                <Plus size={20} />\n              </button>\n            </div>\n            <div className=\"space-y-2\">\n              {formData.images?.map((image, index) => (\n                <div\n                  key={index}\n                  className=\"flex items-center justify-between p-2 bg-gray-100 rounded-lg text-sm\"\n                >\n                  <span className=\"text-gray-700 truncate\">{image}</span>\n                  <button\n                    type=\"button\"\n                    onClick={() => handleRemoveImage(index)}\n                    className=\"text-red-600 hover:text-red-800\"\n                  >\n                    <X size={18} />\n                  </button>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-between gap-2 -mx-6 -mb-6\">\n            <div>\n              {!isNew && (\n                <button\n                  type=\"button\"\n                  onClick={handleDelete}\n                  disabled={loading}\n                  className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 flex items-center gap-2\"\n                >\n                  <Trash2 size={18} />\n                  Delete\n                </button>\n              )}\n            </div>\n            <div className=\"flex gap-2\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50\"\n              >\n                {loading ? 'Saving...' : 'Save'}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1964, "column": 0}, "map": {"version":3,"sources":["file:///Users/kaushikieee/Downloads/code/lib/googleSheets.ts"],"sourcesContent":["/**\n * Google Sheets Database Integration\n * \n * Setup:\n * 1. Create a Google Sheet with tabs:\n *    - \"providers\" - Service provider data\n *    - \"problems\" - Pollution problems data\n * \n * 2. Make the sheet \"Viewer\" accessible to anyone with the link\n * \n * 3. Your sheet URL should look like:\n *    https://docs.google.com/spreadsheets/d/{SHEET_ID}/edit\n * \n * 4. Set NEXT_PUBLIC_GOOGLE_SHEETS_ID in your .env.local:\n *    NEXT_PUBLIC_GOOGLE_SHEETS_ID=your_sheet_id_here\n */\n\nconst SHEET_ID = process.env.NEXT_PUBLIC_GOOGLE_SHEETS_ID;\n\nexport interface Provider {\n  id: number;\n  name: string;\n  service: string;\n  rating: number;\n  reviews: number;\n  estimate: string;\n  specialties: string[];\n  responseTime?: string;\n  availability?: string;\n  email?: string;\n  phone?: string;\n  location?: string;\n  experience?: number;\n  certification?: string;\n  insurance?: boolean;\n  portfolio?: string;\n  successRate?: number;\n}\n\nexport interface PollutionProblem {\n  id: string;\n  title: string;\n  location: string;\n  latitude?: number;\n  longitude?: number;\n  severity: 'Low' | 'Medium' | 'High' | 'Critical';\n  category: string;\n  description?: string;\n  reportedBy?: string;\n  reportedDate?: string;\n  status?: 'Open' | 'In Progress' | 'Resolved' | 'Pending';\n  priority?: 'Low' | 'Medium' | 'High' | 'Critical';\n  estimatedCost?: string;\n  deadline?: string;\n  images?: string[];\n  tags?: string[];\n}\n\n/**\n * Fetch providers from Google Sheets\n * Sheet tab name: \"providers\"\n * Headers: id, name, service, rating, reviews, estimate, specialties, responseTime, availability, email, phone, location, experience, certification, insurance, portfolio, successRate\n */\nexport async function fetchProvidersFromSheets(): Promise<Provider[]> {\n  if (!SHEET_ID) {\n    console.warn('NEXT_PUBLIC_GOOGLE_SHEETS_ID not configured, using fallback data');\n    return getFallbackProviders();\n  }\n\n  try {\n    const { getSheetData } = await import('./googleSheetsAuth');\n    const rows = await getSheetData(SHEET_ID, 'providers!A2:Q1000');\n    \n    if (!rows || rows.length === 0) {\n      return getFallbackProviders();\n    }\n    \n    const providers = rows.map((row: any, idx: number) => {\n      return {\n        id: row[0] || idx + 1,\n        name: row[1] || '',\n        service: row[2] || '',\n        rating: parseFloat(row[3]) || 4.5,\n        reviews: parseInt(row[4]) || 0,\n        estimate: row[5] || 'â‚¹0',\n        specialties: (row[6] || '').split(',').map((s: string) => s.trim()).filter((s: string) => s),\n        responseTime: row[7] || '',\n        availability: row[8] || '',\n        email: row[9] || '',\n        phone: row[10] || '',\n        location: row[11] || '',\n        experience: parseInt(row[12]) || 0,\n        certification: row[13] || '',\n        insurance: row[14]?.toLowerCase() === 'yes' || row[14]?.toLowerCase() === 'true',\n        portfolio: row[15] || '',\n        successRate: parseFloat(row[16]) || 0,\n      };\n    });\n\n    return providers;\n  } catch (error) {\n    console.error('Error fetching providers from Google Sheets:', error);\n    return getFallbackProviders();\n  }\n}\n\n/**\n * Fetch problems from Google Sheets\n * Sheet tab name: \"problems\"\n * Headers: id, title, location, latitude, longitude, severity, category, description, reportedBy, reportedDate, status, priority, estimatedCost, deadline, images, tags\n */\nexport async function fetchProblemsFromSheets(): Promise<PollutionProblem[]> {\n  if (!SHEET_ID) {\n    console.warn('NEXT_PUBLIC_GOOGLE_SHEETS_ID not configured, using fallback data');\n    return getFallbackProblems();\n  }\n\n  try {\n    const { getSheetData } = await import('./googleSheetsAuth');\n    const rows = await getSheetData(SHEET_ID, 'problems!A2:P1000');\n    \n    if (!rows || rows.length === 0) {\n      return getFallbackProblems();\n    }\n    \n    const problems = rows.map((row: any, idx: number) => {\n      return {\n        id: row[0] || `P${idx + 1}`,\n        title: row[1] || '',\n        location: row[2] || '',\n        latitude: parseFloat(row[3]) || undefined,\n        longitude: parseFloat(row[4]) || undefined,\n        severity: row[5] || 'Medium',\n        category: row[6] || '',\n        description: row[7] || '',\n        reportedBy: row[8] || '',\n        reportedDate: row[9] || '',\n        status: row[10] || 'Open',\n        priority: row[11] || 'Medium',\n        estimatedCost: row[12] || '',\n        deadline: row[13] || '',\n        images: (row[14] || '').split('|').map((s: string) => s.trim()).filter((s: string) => s),\n        tags: (row[15] || '').split(',').map((s: string) => s.trim()).filter((s: string) => s),\n      };\n    });\n\n    return problems;\n  } catch (error) {\n    console.error('Error fetching problems from Google Sheets:', error);\n    return getFallbackProblems();\n  }\n}\n\nfunction getFallbackProviders(): Provider[] {\n  return [\n    {\n      id: 1,\n      name: 'GreenFix Turfcare',\n      service: 'Turf restoration & cleanup',\n      rating: 4.8,\n      reviews: 124,\n      estimate: 'â‚¹2,05,000 - â‚¹4,10,000',\n      specialties: ['Turf restoration', 'Soil remediation', 'Land cleanup'],\n      responseTime: '2-4 hours',\n      availability: 'Mon-Sat, 7AM-6PM',\n      email: 'contact@greenfixturfcare.com',\n      phone: '+91-9876543210',\n      location: 'Bangalore, India',\n      experience: 12,\n      certification: 'ISO 14001',\n      insurance: true,\n      portfolio: 'greenfixportfolio.com',\n      successRate: 96.5,\n    },\n    {\n      id: 2,\n      name: 'DrainWell Solutions',\n      service: 'Water drainage & treatment',\n      rating: 4.6,\n      reviews: 87,\n      estimate: 'â‚¹1,23,000 - â‚¹2,87,000',\n      specialties: ['Water treatment', 'Drainage systems', 'Stagnant water'],\n      responseTime: '4-6 hours',\n      availability: '24/7 Emergency',\n      email: 'support@drainwell.com',\n      phone: '+91-9876543211',\n      location: 'Bangalore, India',\n      experience: 8,\n      certification: 'Water Management Expert',\n      insurance: true,\n      portfolio: 'drainwellsolutions.com',\n      successRate: 94.2,\n    },\n    {\n      id: 3,\n      name: 'CleanSoil Labs',\n      service: 'Soil testing & remediation',\n      rating: 4.9,\n      reviews: 156,\n      estimate: 'â‚¹2,46,000 - â‚¹6,56,000',\n      specialties: ['Soil analysis', 'Contamination testing', 'Remediation'],\n      responseTime: '1-2 hours',\n      availability: 'Mon-Sun, 8AM-8PM',\n      email: 'labs@cleansoil.com',\n      phone: '+91-9876543212',\n      location: 'Bangalore, India',\n      experience: 15,\n      certification: 'NABL Accredited',\n      insurance: true,\n      portfolio: 'cleansoillabs.com',\n      successRate: 98.1,\n    },\n  ];\n}\n\nfunction getFallbackProblems(): PollutionProblem[] {\n  return [\n    {\n      id: 'P001',\n      title: 'Stagnant water at Market Street',\n      location: 'Market Street, Downtown',\n      latitude: 11.0420,\n      longitude: 77.0269,\n      severity: 'High',\n      category: 'Water Pollution',\n      description: 'Accumulation of stagnant water causing mosquito breeding and foul odors',\n      reportedBy: 'John Doe',\n      reportedDate: '2025-11-10',\n      status: 'Open',\n      priority: 'High',\n      estimatedCost: 'â‚¹1,50,000',\n      deadline: '2025-11-25',\n      images: [],\n      tags: ['water', 'urgent', 'health-hazard'],\n    },\n    {\n      id: 'P002',\n      title: 'Soil contamination near Industrial Zone',\n      location: 'Industrial Area, East Side',\n      latitude: 11.0500,\n      longitude: 77.0400,\n      severity: 'High',\n      category: 'Soil Pollution',\n      description: 'Heavy metal contamination detected in soil samples',\n      reportedBy: 'Environmental Officer',\n      reportedDate: '2025-11-08',\n      status: 'In Progress',\n      priority: 'Critical',\n      estimatedCost: 'â‚¹4,50,000',\n      deadline: '2025-12-15',\n      images: [],\n      tags: ['soil', 'chemical', 'industrial'],\n    },\n    {\n      id: 'P003',\n      title: 'Air quality degradation at Main Road',\n      location: 'Main Road Junction',\n      latitude: 11.0350,\n      longitude: 77.0200,\n      severity: 'Medium',\n      category: 'Air Pollution',\n      description: 'High vehicle emission causing poor air quality readings',\n      reportedBy: 'Resident',\n      reportedDate: '2025-11-12',\n      status: 'Open',\n      priority: 'Medium',\n      estimatedCost: 'â‚¹2,00,000',\n      deadline: '2025-12-01',\n      images: [],\n      tags: ['air', 'traffic', 'emission'],\n    },\n    {\n      id: 'P004',\n      title: 'Plastic waste accumulation in Park',\n      location: 'Central Park',\n      latitude: 11.0450,\n      longitude: 77.0300,\n      severity: 'Medium',\n      category: 'Waste Pollution',\n      description: 'Large quantities of plastic waste scattered throughout the park area',\n      reportedBy: 'Park Administrator',\n      reportedDate: '2025-11-09',\n      status: 'In Progress',\n      priority: 'High',\n      estimatedCost: 'â‚¹80,000',\n      deadline: '2025-11-20',\n      images: [],\n      tags: ['waste', 'plastic', 'cleanup'],\n    },\n    {\n      id: 'P005',\n      title: 'Heavy metal residue at Abandoned Factory',\n      location: 'Old Industrial Factory',\n      latitude: 11.0550,\n      longitude: 77.0350,\n      severity: 'High',\n      category: 'Chemical Pollution',\n      description: 'Toxic chemical residue from factory operations affecting surrounding area',\n      reportedBy: 'Environmental Inspector',\n      reportedDate: '2025-11-07',\n      status: 'Open',\n      priority: 'Critical',\n      estimatedCost: 'â‚¹7,50,000',\n      deadline: '2025-12-31',\n      images: [],\n      tags: ['chemical', 'toxic', 'factory'],\n    },\n  ];\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2248, "column": 0}, "map": {"version":3,"sources":["file:///Users/kaushikieee/Downloads/code/hooks/useAdminAuth.ts"],"sourcesContent":["import { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\n\n/**\n * Hook to check admin authentication and token validity\n * Redirects to login if not authenticated or token expired\n */\nexport function useAdminAuth() {\n  const router = useRouter();\n\n  useEffect(() => {\n    const token = localStorage.getItem('admin-auth');\n    const expiresAt = localStorage.getItem('admin-auth-expires');\n\n    if (!token) {\n      router.push('/admin/login');\n      return;\n    }\n\n    // Check token expiration\n    if (expiresAt) {\n      const expiration = new Date(expiresAt);\n      if (new Date() > expiration) {\n        // Token expired\n        localStorage.removeItem('admin-auth');\n        localStorage.removeItem('admin-auth-expires');\n        router.push('/admin/login?expired=true');\n        return;\n      }\n    }\n  }, [router]);\n}\n\n/**\n * Clear admin session data\n */\nexport function clearAdminSession() {\n  localStorage.removeItem('admin-auth');\n  localStorage.removeItem('admin-auth-expires');\n  localStorage.removeItem('admin-attempts');\n  localStorage.removeItem('admin-lockout');\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAMO,SAAS;IACd,MAAM,SAAS,IAAA,mSAAS;IAExB,IAAA,sWAAS,EAAC;QACR,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,MAAM,YAAY,aAAa,OAAO,CAAC;QAEvC,IAAI,CAAC,OAAO;YACV,OAAO,IAAI,CAAC;YACZ;QACF;QAEA,yBAAyB;QACzB,IAAI,WAAW;YACb,MAAM,aAAa,IAAI,KAAK;YAC5B,IAAI,IAAI,SAAS,YAAY;gBAC3B,gBAAgB;gBAChB,aAAa,UAAU,CAAC;gBACxB,aAAa,UAAU,CAAC;gBACxB,OAAO,IAAI,CAAC;gBACZ;YACF;QACF;IACF,GAAG;QAAC;KAAO;AACb;AAKO,SAAS;IACd,aAAa,UAAU,CAAC;IACxB,aAAa,UAAU,CAAC;IACxB,aAAa,UAAU,CAAC;IACxB,aAAa,UAAU,CAAC;AAC1B"}},
    {"offset": {"line": 2292, "column": 0}, "map": {"version":3,"sources":["file:///Users/kaushikieee/Downloads/code/app/admin/marketplace/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { LogOut, Star, CheckCircle, Clock, RefreshCw, Plus, Edit2 } from 'lucide-react';\nimport AdminSidebar from '@/components/admin/sidebar';\nimport ProviderEditor from '@/components/admin/provider-editor';\nimport ProblemEditor from '@/components/admin/problem-editor';\nimport { fetchProvidersFromSheets, fetchProblemsFromSheets } from '@/lib/googleSheets';\nimport { ProviderData, ProblemData } from '@/lib/sheetClientAPI';\nimport { useAdminAuth, clearAdminSession } from '@/hooks/useAdminAuth';\n\ninterface Provider extends ProviderData {\n  rowIndex?: number;\n}\n\ninterface Problem extends ProblemData {\n  rowIndex?: number;\n}\n\nexport default function MarketplacePage() {\n  const router = useRouter();\n  useAdminAuth(); // Check authentication\n  const [providers, setProviders] = useState<Provider[]>([]);\n  const [problems, setProblems] = useState<Problem[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedProvider, setSelectedProvider] = useState<Provider | null>(null);\n  const [showProviderEditor, setShowProviderEditor] = useState(false);\n  const [showProblemEditor, setShowProblemEditor] = useState(false);\n  const [editingProvider, setEditingProvider] = useState<Provider | null>(null);\n  const [editingProblem, setEditingProblem] = useState<Problem | null>(null);\n  const [tab, setTab] = useState<'providers' | 'problems'>('providers');\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      const [fetchedProviders, fetchedProblems] = await Promise.all([\n        fetchProvidersFromSheets(),\n        fetchProblemsFromSheets(),\n      ]);\n      setProviders(fetchedProviders as Provider[]);\n      setProblems(fetchedProblems as Problem[]);\n    } catch (error) {\n      console.error('Error loading data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = () => {\n    clearAdminSession();\n    router.push('/admin/login');\n  };\n\n  const handleEditProvider = (provider: Provider) => {\n    setEditingProvider(provider);\n    setShowProviderEditor(true);\n  };\n\n  const handleNewProvider = () => {\n    setEditingProvider(null);\n    setShowProviderEditor(true);\n  };\n\n  const handleEditProblem = (problem: Problem) => {\n    setEditingProblem(problem);\n    setShowProblemEditor(true);\n  };\n\n  const handleNewProblem = () => {\n    setEditingProblem(null);\n    setShowProblemEditor(true);\n  };\n\n  const handleSave = () => {\n    loadData();\n  };\n\n  return (\n    <div className=\"flex h-screen bg-gray-100\">\n      <AdminSidebar open={true} onClose={() => {}} />\n\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\n        {/* Header */}\n        <div className=\"bg-white border-b border-gray-200 p-4 flex items-center justify-between sticky top-0 z-20\">\n          <h1 className=\"text-2xl font-bold text-gray-900\">Admin Panel</h1>\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={loadData}\n              disabled={loading}\n              className=\"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-all disabled:opacity-50\"\n              title=\"Refresh data from Google Sheets\"\n            >\n              <RefreshCw className={`w-5 h-5 ${loading ? 'animate-spin' : ''}`} />\n              Refresh\n            </button>\n            <button\n              onClick={handleLogout}\n              className=\"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-all\"\n            >\n              <LogOut className=\"w-5 h-5\" />\n              Logout\n            </button>\n          </div>\n        </div>\n\n        {loading && (\n          <div className=\"bg-blue-50 border-b border-blue-200 px-6 py-3 flex items-center gap-3 text-blue-700\">\n            <RefreshCw size={20} className=\"animate-spin flex-shrink-0\" />\n            <span className=\"text-sm font-medium\">Loading data from Google Sheets...</span>\n          </div>\n        )}\n\n        {/* Tabs */}\n        <div className=\"bg-white border-b border-gray-200 px-6 flex gap-8\">\n          <button\n            onClick={() => setTab('providers')}\n            className={`py-4 px-2 font-medium border-b-2 transition-all ${\n              tab === 'providers'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 hover:text-gray-900'\n            }`}\n          >\n            Service Providers ({providers.length})\n          </button>\n          <button\n            onClick={() => setTab('problems')}\n            className={`py-4 px-2 font-medium border-b-2 transition-all ${\n              tab === 'problems'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 hover:text-gray-900'\n            }`}\n          >\n            Pollution Problems ({problems.length})\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"flex-1 overflow-auto p-6\">\n          {tab === 'providers' && (\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-lg font-bold text-gray-900\">Service Providers</h2>\n                <button\n                  onClick={handleNewProvider}\n                  className=\"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all\"\n                >\n                  <Plus size={20} />\n                  Add Provider\n                </button>\n              </div>\n\n              {providers.length === 0 ? (\n                <div className=\"text-center py-12 text-gray-500\">\n                  <p>No providers found. Create one to get started.</p>\n                </div>\n              ) : (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                  {providers.map((provider, idx) => (\n                    <div\n                      key={idx}\n                      className=\"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-lg transition-all\"\n                    >\n                      <div className=\"flex justify-between items-start mb-3\">\n                        <div className=\"flex-1\">\n                          <h3 className=\"font-semibold text-gray-900\">{provider.name}</h3>\n                          <p className=\"text-sm text-gray-600\">{provider.service}</p>\n                        </div>\n                        <button\n                          onClick={() => handleEditProvider(provider)}\n                          className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition\"\n                        >\n                          <Edit2 size={18} />\n                        </button>\n                      </div>\n\n                      <div className=\"space-y-2 text-sm\">\n                        <div className=\"flex items-center gap-2\">\n                          <Star className=\"w-4 h-4 text-yellow-500\" />\n                          <span className=\"font-medium\">{provider.rating}</span>\n                          <span className=\"text-gray-600\">({provider.reviews} reviews)</span>\n                        </div>\n                        <p className=\"text-gray-700\">\n                          <span className=\"font-medium\">Est. Cost:</span> {provider.estimate}\n                        </p>\n                        {provider.email && (\n                          <p className=\"text-gray-700\">\n                            <span className=\"font-medium\">Email:</span> {provider.email}\n                          </p>\n                        )}\n                        {provider.phone && (\n                          <p className=\"text-gray-700\">\n                            <span className=\"font-medium\">Phone:</span> {provider.phone}\n                          </p>\n                        )}\n                        <div className=\"flex flex-wrap gap-1 mt-2\">\n                          {provider.specialties?.slice(0, 2).map((spec) => (\n                            <span\n                              key={spec}\n                              className=\"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-700\"\n                            >\n                              {spec}\n                            </span>\n                          ))}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n\n          {tab === 'problems' && (\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between items-center mb-6\">\n                <div>\n                  <h2 className=\"text-lg font-bold text-gray-900\">Pollution Problems</h2>\n                  <p className=\"text-sm text-gray-500 mt-1\">Problems are created by escalating unresolved evidence items</p>\n                </div>\n              </div>\n\n              {problems.length === 0 ? (\n                <div className=\"text-center py-12 text-gray-500\">\n                  <p>No problems yet. Escalate unresolved evidence to create problems.</p>\n                </div>\n              ) : (\n                <div className=\"space-y-3\">\n                  {problems.map((problem, idx) => (\n                    <div\n                      key={idx}\n                      className=\"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-lg transition-all\"\n                    >\n                      <div className=\"flex justify-between items-start\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center gap-3 mb-2\">\n                            <h3 className=\"font-semibold text-gray-900\">{problem.title}</h3>\n                            <span\n                              className={`text-xs font-bold px-3 py-1 rounded ${\n                                problem.severity === 'Critical'\n                                  ? 'bg-red-100 text-red-700'\n                                  : problem.severity === 'High'\n                                  ? 'bg-orange-100 text-orange-700'\n                                  : problem.severity === 'Medium'\n                                  ? 'bg-yellow-100 text-yellow-700'\n                                  : 'bg-green-100 text-green-700'\n                              }`}\n                            >\n                              {problem.severity}\n                            </span>\n                          </div>\n                          <p className=\"text-sm text-gray-600 mb-2\">{problem.location}</p>\n                          {problem.description && (\n                            <p className=\"text-sm text-gray-700 mb-2\">{problem.description}</p>\n                          )}\n                          <div className=\"flex flex-wrap gap-4 text-sm text-gray-600\">\n                            {problem.category && (\n                              <span>\n                                <span className=\"font-medium\">Category:</span> {problem.category}\n                              </span>\n                            )}\n                            {problem.status && (\n                              <span>\n                                <span className=\"font-medium\">Status:</span> {problem.status}\n                              </span>\n                            )}\n                            {problem.reportedBy && (\n                              <span>\n                                <span className=\"font-medium\">Reported by:</span> {problem.reportedBy}\n                              </span>\n                            )}\n                          </div>\n                          {problem.tags && problem.tags.length > 0 && (\n                            <div className=\"flex flex-wrap gap-1 mt-3\">\n                              {problem.tags.map((tag) => (\n                                <span\n                                  key={tag}\n                                  className=\"text-xs px-2 py-1 rounded-full bg-purple-100 text-purple-700\"\n                                >\n                                  {tag}\n                                </span>\n                              ))}\n                            </div>\n                          )}\n                        </div>\n                        <button\n                          onClick={() => handleEditProblem(problem)}\n                          className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition flex-shrink-0\"\n                        >\n                          <Edit2 size={18} />\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Editors */}\n      {showProviderEditor && (\n        <ProviderEditor\n          provider={editingProvider || undefined}\n          onClose={() => {\n            setShowProviderEditor(false);\n            setEditingProvider(null);\n          }}\n          onSave={handleSave}\n          isNew={!editingProvider}\n        />\n      )}\n\n      {showProblemEditor && (\n        <ProblemEditor\n          problem={editingProblem || undefined}\n          onClose={() => {\n            setShowProblemEditor(false);\n            setEditingProblem(null);\n          }}\n          onSave={handleSave}\n          isNew={!editingProblem}\n        />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}