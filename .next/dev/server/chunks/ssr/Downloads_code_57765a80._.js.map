{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kaushikieee/Downloads/code/components/admin/sidebar.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport {\n  LayoutDashboard,\n  FileText,\n  MapPin,\n  Share2,\n  Store,\n  Settings,\n  X,\n} from 'lucide-react';\n\ninterface AdminSidebarProps {\n  open: boolean;\n  onClose: () => void;\n}\n\nconst menuItems = [\n  { href: '/admin/dashboard', label: 'Dashboard', icon: LayoutDashboard },\n  { href: '/admin/evidence', label: 'Evidence Management', icon: FileText },\n  { href: '/admin/zones', label: 'Zone Editor', icon: MapPin },\n  { href: '/admin/forwarding', label: 'Authority Forwarding', icon: Share2 },\n  { href: '/admin/marketplace', label: 'Service Marketplace', icon: Store },\n  { href: '/admin/settings', label: 'Settings', icon: Settings },\n];\n\nexport default function AdminSidebar({ open, onClose }: AdminSidebarProps) {\n  const pathname = usePathname();\n\n  return (\n    <>\n      {/* Overlay for mobile */}\n      {open && (\n        <div\n          className=\"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden\"\n          onClick={onClose}\n        />\n      )}\n\n      {/* Sidebar */}\n      <div\n        className={`fixed lg:relative w-64 h-screen bg-gray-900 text-white transition-all z-40 ${\n          open ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'\n        }`}\n      >\n        {/* Logo */}\n        <div className=\"p-6 border-b border-gray-800\">\n          <div className=\"flex items-center justify-between\">\n            <Link href=\"/admin/dashboard\" className=\"text-2xl font-bold\">\n              PEEP\n            </Link>\n            <button onClick={onClose} className=\"lg:hidden p-1 hover:bg-gray-800 rounded\">\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n          <p className=\"text-xs text-gray-400 mt-2\">Admin Portal</p>\n        </div>\n\n        {/* Navigation Menu */}\n        <nav className=\"p-4 space-y-2\">\n          {menuItems.map((item) => {\n            const Icon = item.icon;\n            const isActive = pathname.startsWith(item.href);\n\n            return (\n              <Link\n                key={item.href}\n                href={item.href}\n                onClick={onClose}\n                className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${\n                  isActive\n                    ? 'bg-blue-600 text-white'\n                    : 'text-gray-400 hover:bg-gray-800 hover:text-white'\n                }`}\n              >\n                <Icon className=\"w-5 h-5\" />\n                <span className=\"text-sm font-medium\">{item.label}</span>\n              </Link>\n            );\n          })}\n        </nav>\n\n        {/* Footer */}\n        <div className=\"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-800\">\n          <p className=\"text-xs text-gray-500 text-center\">\n            PEEP Admin v1.0\n          </p>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;;;;;AAmBA,MAAM,YAAY;IAChB;QAAE,MAAM;QAAoB,OAAO;QAAa,MAAM,wVAAe;IAAC;IACtE;QAAE,MAAM;QAAmB,OAAO;QAAuB,MAAM,mUAAQ;IAAC;IACxE;QAAE,MAAM;QAAgB,OAAO;QAAe,MAAM,6TAAM;IAAC;IAC3D;QAAE,MAAM;QAAqB,OAAO;QAAwB,MAAM,6TAAM;IAAC;IACzE;QAAE,MAAM;QAAsB,OAAO;QAAuB,MAAM,sTAAK;IAAC;IACxE;QAAE,MAAM;QAAmB,OAAO;QAAY,MAAM,+TAAQ;IAAC;CAC9D;AAEc,SAAS,aAAa,EAAE,IAAI,EAAE,OAAO,EAAqB;IACvE,MAAM,WAAW,IAAA,qSAAW;IAE5B,qBACE;;YAEG,sBACC,kYAAC;gBACC,WAAU;gBACV,SAAS;;;;;;0BAKb,kYAAC;gBACC,WAAW,CAAC,2EAA2E,EACrF,OAAO,kBAAkB,sCACzB;;kCAGF,kYAAC;wBAAI,WAAU;;0CACb,kYAAC;gCAAI,WAAU;;kDACb,kYAAC,2TAAI;wCAAC,MAAK;wCAAmB,WAAU;kDAAqB;;;;;;kDAG7D,kYAAC;wCAAO,SAAS;wCAAS,WAAU;kDAClC,cAAA,kYAAC,0SAAC;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAGjB,kYAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;kCAI5C,kYAAC;wBAAI,WAAU;kCACZ,UAAU,GAAG,CAAC,CAAC;4BACd,MAAM,OAAO,KAAK,IAAI;4BACtB,MAAM,WAAW,SAAS,UAAU,CAAC,KAAK,IAAI;4BAE9C,qBACE,kYAAC,2TAAI;gCAEH,MAAM,KAAK,IAAI;gCACf,SAAS;gCACT,WAAW,CAAC,4DAA4D,EACtE,WACI,2BACA,oDACJ;;kDAEF,kYAAC;wCAAK,WAAU;;;;;;kDAChB,kYAAC;wCAAK,WAAU;kDAAuB,KAAK,KAAK;;;;;;;+BAV5C,KAAK,IAAI;;;;;wBAapB;;;;;;kCAIF,kYAAC;wBAAI,WAAU;kCACb,cAAA,kYAAC;4BAAE,WAAU;sCAAoC;;;;;;;;;;;;;;;;;;;AAO3D"}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///Users/kaushikieee/Downloads/code/app/admin/forwarding/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { LogOut, Send, CheckCircle2 } from 'lucide-react';\nimport AdminSidebar from '@/components/admin/sidebar';\n\ninterface Report {\n  id: number;\n  lat: number;\n  lng: number;\n  category: string;\n  severity: 'Low' | 'Medium' | 'High';\n  note: string;\n  reporter: string;\n  date: string;\n  zone: string;\n  upvotes: number;\n  verified: boolean;\n  imagePlaceholder: string;\n}\n\nconst departments = [\n  'Municipal Sanitation',\n  'Parks & Recreation',\n  'Environmental Health',\n  'Water Management',\n];\n\nexport default function ForwardingPage() {\n  const router = useRouter();\n  const [reports, setReports] = useState<Report[]>([]);\n  const [selectedReport, setSelectedReport] = useState<Report | null>(null);\n  const [selectedDept, setSelectedDept] = useState('');\n  const [message, setMessage] = useState('');\n  const [submitted, setSubmitted] = useState(false);\n\n  useEffect(() => {\n    const isAuth = localStorage.getItem('admin-auth');\n    if (!isAuth) {\n      router.push('/admin/login');\n    }\n\n    fetch('/api/data/reports')\n      .then((res) => res.json())\n      .then((data) => setReports(data.slice(0, 10)));\n  }, [router]);\n\n  const handleLogout = () => {\n    localStorage.removeItem('admin-auth');\n    router.push('/admin/login');\n  };\n\n  const handleSelectReport = (report: Report) => {\n    setSelectedReport(report);\n    setSelectedDept('');\n    setMessage(\n      `Case #${report.id} needs attention. Location: ${report.lat.toFixed(4)}, ${report.lng.toFixed(4)}. Evidence attached. Please verify and respond with action taken.`\n    );\n  };\n\n  const handleForward = () => {\n    if (selectedReport && selectedDept && message) {\n      setSubmitted(true);\n      setTimeout(() => {\n        setSubmitted(false);\n        setSelectedReport(null);\n        setSelectedDept('');\n        setMessage('');\n      }, 2000);\n    }\n  };\n\n  return (\n    <div className=\"flex h-screen bg-gray-100\">\n      <AdminSidebar open={true} onClose={() => {}} />\n\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\n        <div className=\"bg-white border-b border-gray-200 p-4 flex items-center justify-between\">\n          <h1 className=\"text-2xl font-bold text-gray-900\">Authority Forwarding</h1>\n          <button\n            onClick={handleLogout}\n            className=\"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-all\"\n          >\n            <LogOut className=\"w-5 h-5\" />\n            Logout\n          </button>\n        </div>\n\n        <div className=\"flex-1 overflow-auto p-6\">\n          <div className=\"grid grid-cols-2 gap-6\">\n            {/* Left: Report list */}\n            <div className=\"bg-white rounded-lg border border-gray-200 overflow-hidden flex flex-col\">\n              <div className=\"p-4 border-b border-gray-200 font-semibold text-gray-900\">Select Report</div>\n              <div className=\"flex-1 overflow-y-auto divide-y\">\n                {reports.map((report) => (\n                  <button\n                    key={report.id}\n                    onClick={() => handleSelectReport(report)}\n                    className={`w-full p-4 text-left hover:bg-gray-50 transition-colors ${\n                      selectedReport?.id === report.id ? 'bg-blue-50 border-l-4' : ''\n                    }`}\n                    style={{\n                      borderLeftColor: selectedReport?.id === report.id ? '#3b82f6' : 'transparent',\n                    }}\n                  >\n                    <div className=\"flex items-start justify-between gap-2 mb-1\">\n                      <p className=\"font-medium text-sm text-gray-900\">Case #{report.id}</p>\n                      <span\n                        className=\"text-xs font-bold rounded-full px-2 py-1\"\n                        style={{\n                          backgroundColor:\n                            report.severity === 'High'\n                              ? '#fca5a5'\n                              : report.severity === 'Medium'\n                                ? '#fcd34d'\n                                : '#c6f6d5',\n                          color:\n                            report.severity === 'High'\n                              ? '#7f1d1d'\n                              : report.severity === 'Medium'\n                                ? '#78350f'\n                                : '#15803d',\n                        }}\n                      >\n                        {report.severity}\n                      </span>\n                    </div>\n                    <p className=\"text-xs text-gray-600\">{report.category}</p>\n                    <p className=\"text-xs text-gray-500 mt-1\">{report.note}</p>\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Right: Forward form */}\n            <div className=\"space-y-4\">\n              {selectedReport ? (\n                <>\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                    <p className=\"text-sm font-semibold text-blue-900 mb-2\">Case #{selectedReport.id} Selected</p>\n                    <p className=\"text-xs text-blue-700\">{selectedReport.category}</p>\n                    <p className=\"text-xs text-blue-600 mt-1\">{selectedReport.note}</p>\n                  </div>\n\n                  <div className=\"bg-white rounded-lg border border-gray-200 p-4 space-y-2\">\n                    <label className=\"text-sm font-semibold text-gray-900\">Forward to Department</label>\n                    <select\n                      value={selectedDept}\n                      onChange={(e) => setSelectedDept(e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                    >\n                      <option value=\"\">Select department...</option>\n                      {departments.map((dept) => (\n                        <option key={dept} value={dept}>\n                          {dept}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n\n                  <div className=\"bg-white rounded-lg border border-gray-200 p-4 space-y-2\">\n                    <label className=\"text-sm font-semibold text-gray-900\">Message</label>\n                    <textarea\n                      value={message}\n                      onChange={(e) => setMessage(e.target.value)}\n                      placeholder=\"Message to authority...\"\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm resize-none\"\n                      rows={6}\n                    />\n                    <p className=\"text-xs text-gray-500\">Customize the message or use the default template.</p>\n                  </div>\n\n                  <button\n                    onClick={handleForward}\n                    disabled={!selectedDept || !message || submitted}\n                    className=\"w-full py-3 px-4 rounded-lg text-white font-medium flex items-center justify-center gap-2 transition-all disabled:opacity-50\"\n                    style={{ backgroundColor: submitted ? '#16a34a' : '#3b82f6' }}\n                  >\n                    {submitted ? (\n                      <>\n                        <CheckCircle2 className=\"w-5 h-5\" /> Forwarded\n                      </>\n                    ) : (\n                      <>\n                        <Send className=\"w-5 h-5\" /> Forward to {selectedDept || 'Authority'}\n                      </>\n                    )}\n                  </button>\n                </>\n              ) : (\n                <div className=\"bg-gray-50 rounded-lg border border-gray-200 p-8 text-center flex items-center justify-center h-full\">\n                  <p className=\"text-gray-600\">Select a report to forward to authorities</p>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}