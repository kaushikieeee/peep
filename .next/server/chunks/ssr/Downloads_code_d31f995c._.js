module.exports=[66556,(a,b,c)=>{"use strict";b.exports=a.r(55932).vendored["react-ssr"].ReactJsxRuntime},6481,a=>{"use strict";var b=a.i(95820);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],6481)},27111,a=>{"use strict";let b=(0,a.i(6481).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],27111)},16184,a=>{"use strict";var b=a.i(66556),c=a.i(95820),d=a.i(19887),e=a.i(6481);let f=(0,e.default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),g=(0,e.default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var h=a.i(27111);function i(){let a=(0,d.useRouter)(),[e,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(0);(0,c.useEffect)(()=>{let a=localStorage.getItem("admin-lockout");if(a){let b=parseInt(a);Date.now()<b?(q(!0),s(b)):(localStorage.removeItem("admin-lockout"),localStorage.removeItem("admin-attempts"))}},[]),(0,c.useEffect)(()=>{if(!p||!r)return;let a=setInterval(()=>{let b=r-Date.now();b<=0?(q(!1),s(null),localStorage.removeItem("admin-lockout"),localStorage.removeItem("admin-attempts"),clearInterval(a)):u(Math.ceil(b/1e3))},1e3);return()=>clearInterval(a)},[p,r]);let v=async b=>{if(b.preventDefault(),p)return void m(`Account temporarily locked. Try again in ${t} seconds.`);if(m(""),o(!0),!e||!j){m("Email and password are required"),o(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){m("Please enter a valid email address"),o(!1);return}if(j.length<6){m("Invalid email or password"),o(!1);return}try{let b=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:j})});if(b.ok){let c=await b.json();localStorage.removeItem("admin-attempts"),localStorage.removeItem("admin-lockout"),localStorage.setItem("admin-auth",c.token),localStorage.setItem("admin-auth-expires",c.expiresAt),a.push("/admin/dashboard")}else{let a=await b.json();if(429===b.status){m("Too many login attempts. Account locked for 15 minutes."),q(!0);let a=Date.now()+9e5;s(a),localStorage.setItem("admin-lockout",a.toString()),localStorage.removeItem("admin-attempts")}else{let b=parseInt(localStorage.getItem("admin-attempts")||"0")+1;if(localStorage.setItem("admin-attempts",b.toString()),b>=5){m("Too many failed attempts. Account locked for 15 minutes."),q(!0);let a=Date.now()+9e5;s(a),localStorage.setItem("admin-lockout",a.toString())}else m(a.message||"Invalid email or password")}}}catch(a){console.error("Login error:",a),m("An error occurred. Please try again.")}finally{o(!1)}};return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"w-full max-w-md",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold mb-2",style:{color:"var(--peep-primary)"},children:"PEEP"}),(0,b.jsx)("p",{className:"text-gray-600 font-medium",children:"Admin Portal"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Public Environmental Evidence Platform"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-8",children:[(0,b.jsxs)("form",{onSubmit:v,className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Email Address"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(g,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,b.jsx)("input",{type:"email",value:e,onChange:a=>i(a.target.value),placeholder:"admin@peep.com",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-1",style:{"--tw-ring-color":"var(--peep-primary)"},required:!0})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,b.jsx)("input",{type:"password",value:j,onChange:a=>k(a.target.value),placeholder:"••••••••",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-1",style:{"--tw-ring-color":"var(--peep-primary)"},required:!0})]})]}),l&&(0,b.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex gap-2",children:[(0,b.jsx)(h.AlertCircle,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,b.jsx)("p",{className:"text-sm text-red-800",children:l})]}),(0,b.jsx)("button",{type:"submit",disabled:n||p,className:"w-full py-2 px-4 rounded-lg font-semibold text-white transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--peep-primary)"},children:p?`Locked (${t}s)`:n?"Logging in...":"Login"})]}),(0,b.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,b.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[(0,b.jsx)("p",{className:"text-xs text-blue-900 font-medium",children:"Security Features Enabled"}),(0,b.jsxs)("ul",{className:"text-xs text-blue-800 mt-2 space-y-1",children:[(0,b.jsx)("li",{children:"✓ Server-side authentication"}),(0,b.jsx)("li",{children:"✓ Rate limiting (5 attempts / 15 mins)"}),(0,b.jsx)("li",{children:"✓ Session tokens with expiration"}),(0,b.jsx)("li",{children:"✓ Input validation & sanitization"})]})]})})]}),(0,b.jsxs)("div",{className:"text-center mt-6 space-y-2",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Authorized personnel only"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Demo: admin@peep.com / admin123"})]})]})})}a.s(["default",()=>i],16184)}];

//# sourceMappingURL=Downloads_code_d31f995c._.js.map