module.exports=[6721,a=>{"use strict";let b=(0,a.i(6481).default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);a.s(["Share2",()=>b],6721)},66556,(a,b,c)=>{"use strict";b.exports=a.r(55932).vendored["react-ssr"].ReactJsxRuntime},15696,(a,b,c)=>{"use strict";b.exports=a.r(55932).vendored["react-ssr"].ReactServerDOMTurbopackClient},6481,a=>{"use strict";var b=a.i(95820);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],6481)},32479,a=>{"use strict";let b=(0,a.i(6481).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],32479)},15443,a=>{"use strict";let b=(0,a.i(6481).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],15443)},30843,41727,95093,a=>{"use strict";var b=a.i(6481);let c=(0,b.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);a.s(["LogOut",()=>c],30843);var d=a.i(66556),e=a.i(80591),f=a.i(19887);let g=(0,b.default)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),h=(0,b.default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var i=a.i(32479),j=a.i(6721);let k=(0,b.default)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]),l=(0,b.default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var m=a.i(15443);let n=[{href:"/admin/dashboard",label:"Dashboard",icon:g},{href:"/admin/evidence",label:"Evidence Management",icon:h},{href:"/admin/zones",label:"Zone Editor",icon:i.MapPin},{href:"/admin/forwarding",label:"Authority Forwarding",icon:j.Share2},{href:"/admin/marketplace",label:"Service Marketplace",icon:k},{href:"/admin/settings",label:"Settings",icon:l}];function o({open:a,onClose:b}){let c=(0,f.usePathname)();return(0,d.jsxs)(d.Fragment,{children:[a&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:b}),(0,d.jsxs)("div",{className:`fixed lg:relative w-64 h-screen bg-gray-900 text-white transition-all z-40 ${a?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[(0,d.jsxs)("div",{className:"p-6 border-b border-gray-800",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)(e.default,{href:"/admin/dashboard",className:"text-2xl font-bold",children:"PEEP"}),(0,d.jsx)("button",{onClick:b,className:"lg:hidden p-1 hover:bg-gray-800 rounded",children:(0,d.jsx)(m.X,{className:"w-5 h-5"})})]}),(0,d.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Admin Portal"})]}),(0,d.jsx)("nav",{className:"p-4 space-y-2",children:n.map(a=>{let f=a.icon,g=c.startsWith(a.href);return(0,d.jsxs)(e.default,{href:a.href,onClick:b,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${g?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:[(0,d.jsx)(f,{className:"w-5 h-5"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:a.label})]},a.href)})}),(0,d.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-800",children:(0,d.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"PEEP Admin v1.0"})})]})]})}a.s(["default",()=>o],41727);var p=a.i(95820);function q(){let a=(0,f.useRouter)();(0,p.useEffect)(()=>{let b=localStorage.getItem("admin-auth"),c=localStorage.getItem("admin-auth-expires");if(!b)return void a.push("/admin/login");if(c){let b=new Date(c);if(new Date>b){localStorage.removeItem("admin-auth"),localStorage.removeItem("admin-auth-expires"),a.push("/admin/login?expired=true");return}}},[a])}function r(){localStorage.removeItem("admin-auth"),localStorage.removeItem("admin-auth-expires"),localStorage.removeItem("admin-attempts"),localStorage.removeItem("admin-lockout")}a.s(["clearAdminSession",()=>r,"useAdminAuth",()=>q],95093)},14910,a=>{"use strict";let b=(0,a.i(6481).default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);a.s(["Edit2",()=>b],14910)},26708,44542,a=>{"use strict";var b=a.i(6481);let c=(0,b.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>c],26708);let d=(0,b.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>d],44542)},77017,a=>{"use strict";var b=a.i(66556),c=a.i(95820),d=a.i(19887),e=a.i(30843),f=a.i(26708),g=a.i(44542),h=a.i(14910),i=a.i(41727),j=a.i(51011),k=a.i(95093);let l=[{id:"zone-a",name:"Zone A",location:"Park North",severity:"Red",color:"#ef4444"},{id:"zone-b",name:"Zone B",location:"School East",severity:"Yellow",color:"#f59e0b"},{id:"zone-c",name:"Zone C",location:"Community Center",severity:"Green",color:"#16a34a"}];function m(){let a=(0,d.useRouter)();(0,k.useAdminAuth)();let[m,n]=(0,c.useState)(l),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)({name:"",location:"",severity:"Green"}),[u,v]=(0,c.useState)([]);return(0,c.useEffect)(()=>{fetch("/api/data/reports").then(a=>a.json()).then(a=>{v(a.map(a=>({id:a.id,lat:a.lat,lng:a.lng,category:a.category,severity:a.severity,note:a.note})))}).catch(a=>console.error("Failed to load reports:",a))},[]),(0,b.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,b.jsx)(i.default,{open:!0,onClose:()=>{}}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,b.jsxs)("div",{className:"bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Zone Editor"}),(0,b.jsxs)("button",{onClick:()=>{(0,k.clearAdminSession)(),a.push("/admin/login")},className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",children:[(0,b.jsx)(e.LogOut,{className:"w-5 h-5"}),"Logout"]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-auto p-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-6 h-full",children:[(0,b.jsxs)("div",{className:"col-span-1 space-y-4",children:[(0,b.jsxs)("button",{onClick:()=>r(!q),className:"w-full flex items-center justify-center gap-2 py-2 px-4 rounded-lg text-white font-medium bg-blue-600 hover:bg-blue-700 transition-all",children:[(0,b.jsx)(f.Plus,{className:"w-4 h-4"}),"Add Zone"]}),q&&(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[(0,b.jsx)("input",{type:"text",placeholder:"Zone name",value:s.name,onChange:a=>t({...s,name:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"}),(0,b.jsx)("input",{type:"text",placeholder:"Location",value:s.location,onChange:a=>t({...s,location:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"}),(0,b.jsxs)("select",{value:s.severity,onChange:a=>t({...s,severity:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[(0,b.jsx)("option",{children:"Green"}),(0,b.jsx)("option",{children:"Yellow"}),(0,b.jsx)("option",{children:"Red"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>{s.name.trim()&&(n([...m,{id:`zone-${Date.now()}`,name:s.name,location:s.location,severity:s.severity,color:"Red"===s.severity?"#ef4444":"Yellow"===s.severity?"#f59e0b":"#16a34a"}]),t({name:"",location:"",severity:"Green"}),r(!1))},disabled:!s.name.trim(),className:"flex-1 py-2 px-3 rounded-lg text-white text-sm font-medium bg-blue-600 disabled:opacity-50",children:"Create"}),(0,b.jsx)("button",{onClick:()=>r(!1),className:"flex-1 py-2 px-3 rounded-lg border border-gray-300 text-gray-700 text-sm hover:bg-gray-50",children:"Cancel"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-gray-200 font-semibold text-gray-900",children:["Zones (",m.length,")"]}),(0,b.jsx)("div",{className:"divide-y max-h-96 overflow-y-auto",children:m.map(a=>(0,b.jsxs)("div",{onClick:()=>p(a),className:`p-3 cursor-pointer hover:bg-gray-50 transition-colors ${o?.id===a.id?"bg-blue-50 border-l-4":""}`,style:{borderLeftColor:o?.id===a.id?"#3b82f6":"transparent"},children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium text-sm text-gray-900",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:a.location})]}),(0,b.jsx)("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:a.color}})]}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)("button",{className:"flex-1 px-2 py-1 text-xs rounded hover:bg-gray-200 flex items-center justify-center gap-1",children:(0,b.jsx)(h.Edit2,{className:"w-3 h-3"})}),(0,b.jsx)("button",{onClick:b=>{var c;b.stopPropagation(),c=a.id,n(m.filter(a=>a.id!==c)),o?.id===c&&p(null)},className:"flex-1 px-2 py-1 text-xs rounded hover:bg-red-100 text-red-600 flex items-center justify-center gap-1",children:(0,b.jsx)(g.Trash2,{className:"w-3 h-3"})})]})]},a.id))})]})]}),(0,b.jsx)("div",{className:"col-span-3 bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,b.jsx)("div",{className:"h-full",children:(0,b.jsx)(j.default,{pins:u,onPinClick:a=>{console.log("Clicked pin:",a)}})})})]})})]})]})}a.s(["default",()=>m])}];

//# sourceMappingURL=Downloads_code_63097ef9._.js.map