module.exports=[6721,a=>{"use strict";let b=(0,a.i(6481).default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);a.s(["Share2",()=>b],6721)},66556,(a,b,c)=>{"use strict";b.exports=a.r(55932).vendored["react-ssr"].ReactJsxRuntime},15696,(a,b,c)=>{"use strict";b.exports=a.r(55932).vendored["react-ssr"].ReactServerDOMTurbopackClient},6481,a=>{"use strict";var b=a.i(95820);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],6481)},32479,a=>{"use strict";let b=(0,a.i(6481).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],32479)},15443,a=>{"use strict";let b=(0,a.i(6481).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],15443)},30843,41727,95093,a=>{"use strict";var b=a.i(6481);let c=(0,b.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);a.s(["LogOut",()=>c],30843);var d=a.i(66556),e=a.i(80591),f=a.i(19887);let g=(0,b.default)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),h=(0,b.default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var i=a.i(32479),j=a.i(6721);let k=(0,b.default)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]),l=(0,b.default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var m=a.i(15443);let n=[{href:"/admin/dashboard",label:"Dashboard",icon:g},{href:"/admin/evidence",label:"Evidence Management",icon:h},{href:"/admin/zones",label:"Zone Editor",icon:i.MapPin},{href:"/admin/forwarding",label:"Authority Forwarding",icon:j.Share2},{href:"/admin/marketplace",label:"Service Marketplace",icon:k},{href:"/admin/settings",label:"Settings",icon:l}];function o({open:a,onClose:b}){let c=(0,f.usePathname)();return(0,d.jsxs)(d.Fragment,{children:[a&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:b}),(0,d.jsxs)("div",{className:`fixed lg:relative w-64 h-screen bg-gray-900 text-white transition-all z-40 ${a?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[(0,d.jsxs)("div",{className:"p-6 border-b border-gray-800",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)(e.default,{href:"/admin/dashboard",className:"text-2xl font-bold",children:"PEEP"}),(0,d.jsx)("button",{onClick:b,className:"lg:hidden p-1 hover:bg-gray-800 rounded",children:(0,d.jsx)(m.X,{className:"w-5 h-5"})})]}),(0,d.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Admin Portal"})]}),(0,d.jsx)("nav",{className:"p-4 space-y-2",children:n.map(a=>{let f=a.icon,g=c.startsWith(a.href);return(0,d.jsxs)(e.default,{href:a.href,onClick:b,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${g?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:[(0,d.jsx)(f,{className:"w-5 h-5"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:a.label})]},a.href)})}),(0,d.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-800",children:(0,d.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"PEEP Admin v1.0"})})]})]})}a.s(["default",()=>o],41727);var p=a.i(95820);function q(){let a=(0,f.useRouter)();(0,p.useEffect)(()=>{let b=localStorage.getItem("admin-auth"),c=localStorage.getItem("admin-auth-expires");if(!b)return void a.push("/admin/login");if(c){let b=new Date(c);if(new Date>b){localStorage.removeItem("admin-auth"),localStorage.removeItem("admin-auth-expires"),a.push("/admin/login?expired=true");return}}},[a])}function r(){localStorage.removeItem("admin-auth"),localStorage.removeItem("admin-auth-expires"),localStorage.removeItem("admin-attempts"),localStorage.removeItem("admin-lockout")}a.s(["clearAdminSession",()=>r,"useAdminAuth",()=>q],95093)},31395,a=>{"use strict";let b=(0,a.i(6481).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>b],31395)},19573,a=>{"use strict";let b=(0,a.i(6481).default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);a.s(["Menu",()=>b],19573)},27296,a=>{"use strict";let b=(0,a.i(6481).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],27296)},55816,a=>{"use strict";var b=a.i(66556),c=a.i(95820),d=a.i(19887),e=a.i(80591),f=a.i(30843),g=a.i(6481);let h=(0,g.default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var i=a.i(31395);let j=(0,g.default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var k=a.i(27296),l=a.i(19573),m=a.i(15443),n=a.i(41727),o=a.i(51011),p=a.i(95093);function q(){let a=(0,d.useRouter)();(0,p.useAdminAuth)();let[g,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(!0),v=async()=>{try{u(!0);let a=await fetch("/api/data/reports"),b=await a.json();q(b)}catch(a){console.error("Failed to load reports:",a)}finally{u(!1)}};(0,c.useEffect)(()=>{v()},[]);let w=g.length,x=g.filter(a=>"High"===a.severity).length,y=g.filter(a=>!a.verified).length,z=g.slice(0,10);return t?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)("p",{className:"text-gray-600",children:"Loading dashboard..."})}):(0,b.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,b.jsx)(n.default,{open:r,onClose:()=>s(!1)}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,b.jsxs)("div",{className:"bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>s(!r),className:"p-2 hover:bg-gray-100 rounded-lg lg:hidden",children:r?(0,b.jsx)(m.X,{className:"w-5 h-5"}):(0,b.jsx)(l.Menu,{className:"w-5 h-5"})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"})]}),(0,b.jsxs)("button",{onClick:()=>{(0,p.clearAdminSession)(),a.push("/admin/login")},className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",children:[(0,b.jsx)(f.LogOut,{className:"w-5 h-5"}),"Logout"]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-auto",children:(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Total Reports (30 days)"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:w}),(0,b.jsx)("p",{className:"text-xs text-green-600 mt-2",children:"↑ 12% from last month"})]}),(0,b.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,b.jsx)(h,{className:"w-6 h-6 text-blue-600"})})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Open Red Zone Cases"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-red-600 mt-2",children:x}),(0,b.jsx)("p",{className:"text-xs text-red-600 mt-2",children:"Urgent attention needed"})]}),(0,b.jsx)("div",{className:"p-3 bg-red-100 rounded-lg",children:(0,b.jsx)(i.AlertTriangle,{className:"w-6 h-6 text-red-600"})})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Pending Verifications"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-yellow-600 mt-2",children:y}),(0,b.jsx)("p",{className:"text-xs text-yellow-600 mt-2",children:"Awaiting review"})]}),(0,b.jsx)("div",{className:"p-3 bg-yellow-100 rounded-lg",children:(0,b.jsx)(j,{className:"w-6 h-6 text-yellow-600"})})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Assigned to Authorities"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-green-600 mt-2",children:0}),(0,b.jsx)("p",{className:"text-xs text-green-600 mt-2",children:"In progress"})]}),(0,b.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,b.jsx)(k.CheckCircle2,{className:"w-6 h-6 text-green-600"})})]})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Report Location Map"}),(0,b.jsx)("div",{className:"h-96 rounded-lg overflow-hidden",children:(0,b.jsx)(o.default,{pins:g.map(a=>({id:a.id,lat:a.lat,lng:a.lng,category:a.category,severity:a.severity,note:a.note}))})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Recent Reports"}),(0,b.jsx)(e.default,{href:"/admin/evidence",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View All →"})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:0===z.length?(0,b.jsx)("div",{className:"text-center py-12 text-gray-500",children:(0,b.jsx)("p",{children:"No reports found. Add evidence to get started."})}):(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"ID"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Category"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Severity"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Location"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Reporter"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Date"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Status"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Action"})]})}),(0,b.jsx)("tbody",{children:z.map(a=>(0,b.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[(0,b.jsxs)("td",{className:"py-3 px-4 text-gray-900 font-medium",children:["#",a.id]}),(0,b.jsx)("td",{className:"py-3 px-4 text-gray-700",children:a.category}),(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold",style:{backgroundColor:"High"===a.severity?"#fca5a5":"Medium"===a.severity?"#fcd34d":"#c6f6d5",color:"High"===a.severity?"#7f1d1d":"Medium"===a.severity?"#78350f":"#15803d"},children:a.severity})}),(0,b.jsx)("td",{className:"py-3 px-4 text-gray-700",children:a.zone}),(0,b.jsx)("td",{className:"py-3 px-4 text-gray-700",children:a.reporter}),(0,b.jsx)("td",{className:"py-3 px-4 text-gray-700",children:a.date}),(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium",style:{backgroundColor:a.verified?"#dbeafe":"#fef3c7",color:a.verified?"#1e40af":"#92400e"},children:a.verified?"Verified":"New"})}),(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsx)("button",{className:"text-blue-600 hover:text-blue-700 font-medium text-xs",children:"View"})})]},a.id))})]})})]})]})})]})]})}a.s(["default",()=>q],55816)}];

//# sourceMappingURL=Downloads_code_f3115d2f._.js.map