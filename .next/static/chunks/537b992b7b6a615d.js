(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,85945,e=>{"use strict";let t=(0,e.i(77735).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>t],85945)},52964,e=>{"use strict";let t=(0,e.i(77735).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],52964)},48663,e=>{"use strict";var t=e.i(122),s=e.i(45471),l=e.i(85945),a=e.i(3407),r=e.i(52964),i=e.i(69257);function o(){let[e,o]=(0,s.useState)(null),[n,c]=(0,s.useState)(null),[d,x]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(e=>{let{latitude:t,longitude:s}=e.coords;o({lat:t,lng:s}),sessionStorage.setItem("peep-report-location",JSON.stringify({lat:t,lng:s})),x(!1)},e=>{console.log("[v0] Geolocation error:",e.message),c("Unable to access your location. Please enable location permissions."),x(!1)}):(c("Geolocation is not supported by your browser."),x(!1))},[]),(0,t.jsxs)("div",{className:"min-h-screen bg-white flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,t.jsx)(i.default,{href:"/peep/user",className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(l.ChevronLeft,{className:"w-5 h-5"})}),(0,t.jsx)("h1",{className:"text-lg font-semibold",children:"New Report"}),(0,t.jsx)("div",{className:"w-10"})]}),(0,t.jsx)("div",{className:"flex-1 px-4 py-8 flex flex-col items-center justify-center",children:d?(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto animate-pulse",style:{backgroundColor:"var(--peep-primary)"},children:(0,t.jsx)(a.MapPin,{className:"w-8 h-8 text-white"})}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Finding your location..."}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"This helps us pinpoint where the issue is."})]}):n?(0,t.jsxs)("div",{className:"w-full max-w-sm text-center space-y-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto bg-red-100",children:(0,t.jsx)(r.AlertCircle,{className:"w-8 h-8 text-red-600"})}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Location Access Required"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:n}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Please enable location in your browser settings and refresh."}),(0,t.jsx)("button",{onClick:()=>window.location.reload(),className:"w-full py-3 px-4 rounded-lg font-semibold text-white",style:{backgroundColor:"var(--peep-primary)"},children:"Try Again"})]}):(0,t.jsxs)("div",{className:"w-full max-w-sm text-center space-y-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto",style:{backgroundColor:"var(--peep-primary)"},children:(0,t.jsx)(a.MapPin,{className:"w-8 h-8 text-white"})}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Location Captured"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Lat: ",e?.lat.toFixed(4),", Lng: ",e?.lng.toFixed(4)]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Ready to document the issue?"}),(0,t.jsx)(i.default,{href:"/peep/user/report-flow/capture-photo",className:"block w-full py-3 px-4 rounded-lg font-semibold text-white transition-all active:scale-95",style:{backgroundColor:"var(--peep-primary)"},children:"Next: Capture Photo"})]})})]})}e.s(["default",()=>o])}]);